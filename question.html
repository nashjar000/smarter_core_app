
<!DOCTYPE html><html><head><meta charset='UTF-8'><title>Smarter Game - Question</title>
<link rel='stylesheet' href='style.css'><link rel="icon" href="favicon.ico"></head>
<body onload="renderQuestion()">
<div id="toast" class="toast"></div>
<header>Question</header>
<div id="team-money" class="team-money" style="text-align:center; font-size:1.3rem; margin: 0.5rem 0 0.7rem;"></div>
<div class='container'>
  <div class="question-card">
    <div class="subject" id="q-subject"></div>
    <h2 id="q-text" style="margin:.6rem 0 0;"></h2>
    <div id="mc-choices" class="mc-choices"></div>
    <div id="q-answer" class="answer">Answer: </div>
    <div style="margin-top:1rem;">
      <button class="btn btn-primary" onclick="revealAnswer()">Reveal Answer (R)</button>
    </div>
    <div style="margin-top:.5rem;">
      <button class="btn btn-ok" onclick="markAnswer(true)">Correct (Y)</button>
      <button class="btn btn-danger" onclick="markAnswer(false)">Incorrect (N)</button>
    </div>
    <div class="q-cheats">
      <div id="q-cheat-badges" class="q-cheat-badges"></div>
      <div class="q-cheat-use">
        <button id="qcheat-copy" class="btn cheat" onclick="useCheatFromQ('copy')">Copy (C)</button>
        <button id="qcheat-peek" class="btn cheat" onclick="useCheatFromQ('peek')">Peek (P)</button>
        <button id="qcheat-save" class="btn cheat" onclick="useCheatFromQ('save')">Save (S)</button>
      </div>
    </div>
    <div style="margin-top:.5rem;">
      <button id="walk-here" class="btn btn-ghost" onclick="walkAwayHere()">Walk Away (before reveal)</button>
    </div>
    <p style="opacity:.8;margin-top:.6rem;">Shortcuts: R = Reveal, Y = Correct, N = Incorrect, C/P/S = Cheats, Esc = Back, Ctrl/Cmd+Z = Undo, Ctrl/Cmd+Y = Redo</p>
  </div>
</div>
<div class="team-score" style="text-align:center; margin: 1rem 0;"></div>
<div class='host-controls'>
  <button class="btn btn-secondary" data-page="index.html" onclick="location.href='index.html'">Start</button>
  <button id="host-home-btn" class="btn btn-secondary" data-page="home.html" onclick="location.href='home.html'">Home</button>
  <button class="btn btn-secondary" data-page="scoreboard.html" onclick="location.href='scoreboard.html'">Go to Scoreboard</button>
  <button id="randomSubjectsBtn" class="btn btn-secondary" onclick="try{toggleRandomSubjects();}catch(e){console.log('error:',e)}" title="Toggle random subjects mode">ðŸŽ² Random Subjects: OFF</button>
  <button class="btn btn-next" onclick="try{nextTeam();}catch(e){}">Next Team <span class="arrow">â†’</span></button>
  <button class="btn btn-secondary" onclick="try{toggleFullscreen();}catch(e){}" title="Toggle fullscreen (hides browser tabs)">â›¶ Fullscreen</button>
  <button class="btn btn-secondary" onclick="try{undo();}catch(e){}">Undo</button>
  <button class="btn btn-secondary" onclick="try{redo();}catch(e){}">Redo</button>
</div>
<script>
if (window.location.pathname.endsWith('home.html')) {
  var homeBtn = document.getElementById('host-home-btn');
  if (homeBtn) homeBtn.classList.add('btn-active');
}
setTimeout(() => { loadRandomSubjectsSetting(); }, 100);
</script>
<script src='script.js'></script>
<script>
// Show current team's money/score on question page
function updateTeamMoney() {
  if (typeof currentTeam !== 'function') return;
  const t = currentTeam();
  if (!t) return;
  let moneyStr = typeof fmtMoney === 'function' ? fmtMoney(t.scoreIndex || 0) : ('$'+((t.scoreIndex||0).toLocaleString()));
  document.getElementById('team-money').textContent = `${t.name || 'Team'}: ${moneyStr}`;
}
// Patch renderQuestion to also update money
const origRenderQuestion = window.renderQuestion;
window.renderQuestion = function() {
  if (typeof origRenderQuestion === 'function') origRenderQuestion();
  updateTeamMoney();
}
// Also update on load in case
updateTeamMoney();
</script>
</body></html>
