<!DOCTYPE html><html><head><meta charset='UTF-8'><title>Smarter Game - Home</title>
<link rel='stylesheet' href='style.css'><link rel="icon" href="favicon.ico"></head>
<body onload="renderTeams()">
<div id="toast" class="toast"></div>
<header>Are You Smarter Than a 5th Grader?</header>
<div class='container'>
  <input id='teamName' class="input" type='text' placeholder='Team Name (press Enter to add)' onkeypress="if(event.key==='Enter'){addTeam(document.getElementById('teamName').value);document.getElementById('teamName').value='';document.getElementById('teamName').focus();}">
  <button class='btn btn-primary' onclick="addTeam(document.getElementById('teamName').value);document.getElementById('teamName').value='';document.getElementById('teamName').focus();">Add Team</button>
  <div style="margin-top:1rem;">
    <a href='scoreboard.html' class='btn btn-secondary'>Go to Scoreboard</a>
    <a href='index.html' class='btn btn-secondary'>Back to Start</a>
  </div>
  <div id='teams' style="margin-top:1rem;"></div>
  <hr style="margin:1.2rem 0; opacity:.5;">
  <div id="settingsStatus" style="background:#0e7c45; padding:1rem; border-radius:8px; margin-bottom:1rem; font-size:0.95rem; cursor:pointer;" onclick="try{toggleRandomSubjects();}catch(e){console.log('toggleRandomSubjects not ready yet')}" title="Click to toggle random subjects mode">
    <div style="text-align:center; opacity:0.8;">Initializing settings...</div>
  </div>
  <div>
    <h3 style="margin-top:1.5rem; margin-bottom:0.8rem;">ğŸ“š Add Custom Questions</h3>
    <p style="opacity:0.7; font-size:0.9rem; margin-bottom:1rem;">Add questions one at a time. Add as many as you wantâ€”they'll all be saved together!</p>
    
    <div style="display:grid; grid-template-columns:1fr 1fr; gap:0.8rem; margin-bottom:1rem;">
      <div>
        <label style="display:block; font-weight:bold; margin-bottom:0.3rem;">Subject</label>
        <input id="customSubject" type="text" placeholder="e.g., Biology" class="input" style="width:100%; padding:0.5rem; border:1px solid #ccc; border-radius:4px;">
      </div>
      <div>
        <label style="display:block; font-weight:bold; margin-bottom:0.3rem;">Grade Level</label>
        <select id="customGrade" class="input" style="width:100%; padding:0.5rem; border:1px solid #ccc; border-radius:4px;">
          <option value="">Select Grade</option>
          <option value="1">Grade 1</option>
          <option value="2">Grade 2</option>
          <option value="3">Grade 3</option>
          <option value="4">Grade 4</option>
          <option value="5">Grade 5</option>
        </select>
      </div>
    </div>
    
    <div style="margin-bottom:0.8rem;">
      <label style="display:block; font-weight:bold; margin-bottom:0.3rem;">Question</label>
      <textarea id="customQuestion" placeholder="What is photosynthesis?" class="input" style="width:100%; height:60px; padding:0.5rem; border:1px solid #ccc; border-radius:4px; font-family:inherit;" onkeydown="if(event.key==='Enter' && event.ctrlKey) submitAllQuestions();"></textarea>
    </div>
    
    <div style="margin-bottom:1rem;">
      <label style="display:block; font-weight:bold; margin-bottom:0.3rem;">Answer</label>
      <textarea id="customAnswer" placeholder="The process plants use to make food" class="input" style="width:100%; height:60px; padding:0.5rem; border:1px solid #ccc; border-radius:4px; font-family:inherit;" onkeydown="if(event.key==='Enter' && event.ctrlKey) submitAllQuestions();"></textarea>
    </div>
    
    <div style="display:flex; gap:0.6rem; margin-bottom:1rem; flex-wrap:wrap;">
      <button class="btn btn-primary" onclick="addOneQuestion()">+ Add Question</button>
      <button class="btn btn-secondary" onclick="clearQuestionForm()">Clear Form</button>
      <span style="align-self:center; opacity:0.7; font-size:0.9rem;">or press Ctrl+Enter to submit all</span>
    </div>
    
    <div id="questionsPreview" style="background:#f5f5f5; border-radius:4px; padding:1rem; margin-bottom:1rem; display:none;">
      <h4 style="margin-top:0; margin-bottom:0.8rem;">ğŸ“‹ Pending Questions (<span id="previewCount">0</span>):</h4>
      <div id="questionsList" style="max-height:250px; overflow-y:auto; margin-bottom:1rem;"></div>
      <div style="display:flex; gap:0.6rem; flex-wrap:wrap;">
        <button class="btn btn-primary" onclick="submitAllQuestions()">âœ“ Save All Questions</button>
        <button class="btn btn-danger" onclick="clearAllQuestions()">Clear All</button>
      </div>
    </div>
    
    <div style="display:flex; gap:0.6rem; margin-top:1.5rem;">
      <button class="btn btn-danger" onclick="clearCustomQuestions()">ğŸ—‘ï¸ Delete All Custom Questions</button>
    </div>
    <div id="customQuestionsStatus" style="padding:0.6rem; border-radius:4px; display:none; margin-top:0.8rem;"></div>
  </div>
  <hr style="margin:1.2rem 0; opacity:.5;">
  <div>
    <button class="btn btn-danger" onclick="resetAll()">Restart</button>
  </div>
  <p style="opacity:.8;margin-top:1rem;">Shortcuts: Ctrl/Cmd+Z = Undo, Ctrl/Cmd+Y or Shift+Ctrl/Cmd+Z = Redo</p>
</div>
<div class='host-controls'>
  <button class="btn btn-secondary" data-page="index.html" onclick="location.href='index.html'">Start</button>
  <button id="host-home-btn" class="btn btn-secondary" data-page="home.html" onclick="location.href='home.html'">Home</button>
  <button class="btn btn-secondary" data-page="scoreboard.html" onclick="location.href='scoreboard.html'">Go to Scoreboard</button>
  <button id="randomSubjectsBtn" class="btn btn-secondary" onclick="try{toggleRandomSubjects();}catch(e){console.log('toggleRandomSubjects error:',e)}" title="Toggle random subjects mode">ğŸ² Random Subjects: OFF</button>
  <button class="btn btn-next" onclick="try{nextTeam();}catch(e){console.log('nextTeam error:',e)}">Next Team <span class="arrow">â†’</span></button>  <button class="btn btn-secondary" onclick="try{toggleFullscreen();}catch(e){}" title="Toggle fullscreen (hides browser tabs)">â›¶ Fullscreen</button>  <button class="btn btn-secondary" onclick="try{undo();}catch(e){console.log('undo error:',e)}">Undo</button>
  <button class="btn btn-secondary" onclick="try{redo();}catch(e){console.log('redo error:',e)}">Redo</button>
</div>
<script src='script.js'></script>
<script>
// Initialize settings when page loads (script.js should be loaded by now)
function initSettings(){
  try{ loadRandomSubjectsSetting(); }catch(e){ console.log('loadRandomSubjectsSetting not ready'); }
  try{ updateSettingsStatus(); }catch(e){ console.log('updateSettingsStatus not ready'); }
}

// Call immediately if script.js already loaded, otherwise wait
if(typeof loadRandomSubjectsSetting === 'function') {
  initSettings();
} else {
  setTimeout(() => {
    initSettings();
  }, 100);
}

// Also run on page load
window.addEventListener('load', () => {
  setTimeout(() => {
    initSettings();
  }, 50);
});

// Highlight Home button
if (typeof document !== 'undefined') {
  const homeBtn = document.getElementById('host-home-btn');
  if (homeBtn) homeBtn.classList.add('btn-active');
}
</script>
</body></html>
